; Use to test out VM configuration values and errors

total:
    LOAD 0
    LOAD_CONST 1
    SUB
    DUP
    LOAD_CONST 0
    EQ
    JMPT .end
    LOAD 0
    LOAD_CONST 1
    SUB
    CALL total 1
    LOAD 0
    ADD
    RET
    .end:
        LOAD 0
        RET

test_frames:
    LOAD_CONST 100
    CALL total 1
    CALL println 1
    LOAD_CONST NONE
    RET

test_globals:
    LOAD_CONST -1
    GSTORE
    BUILDARR 10000 0
    GSTORE
    RET

test_stack:
    LOAD_CONST NONE
    RET

test_locals:
    LOAD_CONST NONE
    RET

_entry:
    ; comment out function calls as needed
    ;CALL test_frames 0
    CALL test_globals 0
    ;CALL test_stack 0
    ;CALL test_locals 0
    HALT